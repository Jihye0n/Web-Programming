<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024_2 Final Exam</title>
    <!-- bootstrap 사용을 위한 설정 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

    <style>          
        .control {
            border:3px outset lightseagreen;
        }
    
        .panel {
            border:3px outset lightseagreen;
            margin:20px;
            padding:0px 20px;
            background:lightgreen;
            visibility: hidden;
        }      
    </style>
    <script>
        let allWork = new Array(); // 모든 그림 작품이 저장될 배열 변수
        let curID = 1; // 현재 작품 ID 저장 변수

        // ArtWork 클래스 완성하기 1)
        // id, name, 이미지경로, 점수를 갖는 작품 클래스
        // id, name, img, score를 전달받아 저장하는 생성자 함수를 작성하세요.
        class ArtWork {
            constructor(id, name, img, score) {
                this.name = name;          
                this.num = num;
                this.img = "images/" + img + ".jpg";
                this.score = score;
            }
        }

        // ArtWork 객체의 출력함수 (prototype 함수로 작성할 것) 2)
        // Template에서 제시한 card component로 class instance를 출력할 수 있도록 함수를 완성하세요.        
        // 각 클래스 객체가 가지는 id, name, score, img를 포함하는 card component가 되도록
        // 문자열을 만들고 리턴하도록 작성하면 됨.
        // 하나의 row에 card component는 4개가 출력되도록 해야 함.

        ArtWork.prototype.toString = function() {
            let str = "";

            str += this.id
            str += this.name;
            str += this.score;
            str += `<img src="${this.img}">`;

            return str;
        }




        window.onload = function (){
            // 수정 금지, 총 4개의 이미지 작품이 allWork 배열에 추가되도록 해 두었음. 초기 점수는 모두 0점
            allWork.push(new ArtWork(1, "Koala", "images/koala.jpg", 0));
            allWork.push(new ArtWork(2, "Tulips","images/Tulips.jpg", 0));
            allWork.push(new ArtWork(3, "Penguins","images/Penguins.jpg", 0));
            allWork.push(new ArtWork(4, "Jellyfish","images/Jellyfish.jpg", 0));      
            
            /* <select id="art_list">에 작품의 이름(name)을 추가하기 3)
              
                <option> 객체를 생성하고 value값을 작품 이름으로 지정,
                <option> 객체의 innerHTML을 작품 이름으로 지정 후
                <select> 객체의 자식으로 추가               
                    
                작품명이 "MyWork"인 경우 생성되는 <option> 객체 예
                <option value="MyWork">MyWork</option> 
            */
            
            let gallery = document.getElementById("art_list").value;
            



            
        }

        // [작품 평가] 버튼에 대한 이벤트 함수 완성하기 4)
        function viewWorkPanel(){
            // 패널(class='panel') section 모두 숨긴 후 평가(id='eval') section만 보이도록 스타일 변경
            // <div id='eval_wrap'>의 내부 컨텐츠(innerHTML)를 빈 문자열로 지정하여 초기화
            let evalview = document.getElementById("eval");
            evalview.style.visibility = 'visible';
            let resultview = document.getElementById("result");
            resultview.style.visibility = 'hidden';
            let eval_wrapview = document.getElementById("eval_wrap").value;
            eval_wrapview.innerHTML = '';
        }

        // [결과 보기] 버튼에 대한 이벤트 함수 완성하기 5)
        function viewResultPanel(){
            // 패널(class='panel') section 모두 숨긴 후 결과(id='result') section만 보이도록 스타일 변경
            let evalview = document.getElementById("eval");
            evalview.style.visibility = 'hidden';
            let resultview = document.getElementById("result");
            resultview.style.visibility = 'visible';

            // <div id='result_wrap'>의 내부 컨텐츠(innerHTML)를 빈 문자열로 지정하여 초기화 후
            // allWork의 출력함수를 이용하여 allWork에 저장되어 있는 모든 작품이 보여지도록 함.
            // ArtWork 클래스의 출력함수를 반드시 이용할 것!!
            // 작품 보기 패널에는 4개의 card component가 보여야 함.
            let result_wrapview = document.getElementById("result_wrap").value;
            result_wrapview.innerHTML = '';

            for (let i = 0; i < allWork.length; i++) {
                result_wrapview.innerHTML += allWork[i];
            }
        }

        // 작품 평가하기 section 내부에 [작품보기] 버튼에 대한 이벤트 함수 완성하기 6)
        function viewWork(){
            // <div id='eval_wrap'>의 내부 컨텐츠(innerHTML)를 빈 문자열로 지정하여 초기화 후
            // <select>에서 선택된 작품이름과 크기 입력창에서 값 가져오기
            // <select>에서 가져온 이름고 allWork에 저장된 이름들과 비교하여 해당 작품을 찾음.
            // curID 변수에 현재 작품의 id값 저장
            // 이미지를 크기에 맞추어 출력
            // id=score value=0 을 갖는 <input> 추가
            // [점수주기] 버튼 추가, 이 때 이 버튼을 클릭할 경우 setScore() 함수가 호출되도록 이벤트를 연결함.
            // [점수주기] 버튼은 template의 버튼을 이용하여 만들어서 추가할 것.
            
            let eval_wrapview = document.getElementById("eval_wrap").value;
            eval_wrapview.innerHTML = '';

            eval_wrapview.innerHTML = '<img src="images/Koala.jpg" width="100" id="image">';







        }

        // 작품 평가하기 section 내 추가된 [점수주기] 버튼에 대한 이벤트 함수 완성하기 7)
        function setScore(){
            // curID 값을 이용하여 allWork에 저장된 현재 ArtWork 인스턴스를 가져옴
            // 가져온 ArtWork 인스턴스의 score 값에 입력된 점수를 저장
            let color = document.getElementById(curID),value;


            
        }

        // control section의 색상 버튼의 값 변경에 대한 이벤트 함수 완성하기 8)
        function sectionBack(){
            // class='panel'인 section의 배경색을 선택된 색상으로 변경
            let colors = document.getElementById("changecolor").value;
            let evalcolor = document.getElementById("eval");
            let resultcolor = document.getElementById("result");
            evalcolor.style.backgroundColor = colors;
            resultcolor.style.backgroundColor = colors;
        }
    </script>
</head>
<body>  
    <!-- 
    body 내용 완성하기 9)
    1. Control Panel과 작품 평가하기 패널을 1:3 비율로 나눔.
    2. Control Panel에서 색상 입력, 작품 평가, 결과 보기 버튼을 template을 이용하여 수정     
    3. 작품 평가하기 패널에서 
    -->
<div class="container">
    <div class="row align-items-center">

        <div class="col col-4">
        <section class="control">
            <h3>Control Panel</h3>
            <hr>
            Section 색상 <input type="color" id = "changecolor" class="form-control" onchange="sectionBack()"> <!-- change 이벤트 함수 sectionBack() 함수 연결 -->               
            <hr>
            <button onclick="viewWorkPanel()">작품 평가</button> <!-- click 이벤트 함수 viewWorkPanel() 연결 -->
            <button onclick="viewResultPanel()">결과 보기 </button> <!-- click 이벤트 함수 viewResultPanel() 연결 -->
        </section>    
        </div>

        <div class="col col-4">
        <section class="panel" id="eval">
            <h4>작품 평가하기</h4>
            <select id="art_list">
            <option value="Koala">Koala</option>
            <option value="Tulips">Tulips</option>
            <option value="Penguins">Penguins</option>
            <option value="Jellyfish">Jellyfish</option>
            </select>
            크기 : <input type="input" value="300" id="size">
            <button onclick="viewWork()">작품 보기</button> <!-- click 이벤트 함수 viewWork() 연결 -->
            <hr>
            <div id="eval_wrap"></div>
        </section>
        </div>

    </div>
</div>
<div class="container">
    <section class="panel" id="result">
    <h4>평가 결과</h4>                 
    <hr> 
    <div class="row align-items-center" id="result_wrap">        

        <!-- 예제 card component는 스크립트에서 삭제되어야 함. -->
        <div class="col col-3">
            <div class="card" style="width: 16rem;">
                <img src="images/Koala.jpg" class="card-img-top" alt="이미지" id="image">
                <div class="card-body">
                    <p class="card-text">
                        ID : <strong>1</strong> 작품명 : <strong>cat</strong>
                        <br>
                        점수 : <strong>100</strong>
                    </p>
                </div>
            </div>
        </div>
        <div class="col col-3">
            <div class="card" style="width: 16rem;">
                <img src="images/Tulips.jpg" class="card-img-top" alt="이미지" id="image">
                <div class="card-body">
                    <p class="card-text">
                        ID : <strong>2</strong> 작품명 : <strong>cat</strong>
                        <br>
                        점수 : <strong>100</strong>
                    </p>
                </div>
            </div>
        </div>
        <div class="col col-3">
            <div class="card" style="width: 16rem;">
                <img src="images/Penguins.jpg" class="card-img-top" alt="이미지" id="image">
                <div class="card-body">
                    <p class="card-text">
                        ID : <strong>2</strong> 작품명 : <strong>cat</strong>
                        <br>
                        점수 : <strong>100</strong>
                    </p>
                </div>
            </div>
        </div>
        <div class="col col-3">
            <div class="card" style="width: 16rem;">
                <img src="images/Jellyfish.jpg" class="card-img-top" alt="이미지" id="image">
                <div class="card-body">
                    <p class="card-text">
                        ID : <strong>2</strong> 작품명 : <strong>cat</strong>
                        <br>
                        점수 : <strong>100</strong>
                    </p>
                </div>
            </div>
        </div>
        
    </div>
    </section>        
</div>
</body>
</html>